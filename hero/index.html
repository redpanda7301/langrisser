<!DOCTYPE html>
<html>
    <head>
        <title>랑그릿사 모바일</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />        
        <link rel="stylesheet" href="../assets/css/main.css" />
        <link rel="stylesheet" href="../assets/css/star-rating.css" media="all" type="text/css" />
        <link rel="icon" type="image/png" href="../favicon.png">
        <script src="../assets/js/jquery.min.js"></script>
        <script src="../assets/js/util.js"></script>
        <script src="../assets/js/include-util.js"></script>
    </head>
    <body>
        <!-- Header -->
        <div data-include-path="../includes/header.html"></div>
        <div id="page-wrapper">
            <!-- Skin Carousel -->
            <div id="skin-carousel"></div>            
            <div id="main">
                <div class="container">
                    <div class="row main-row">
                        <!-- Basic Info -->
                        <div id="basic-info"></div>
                        <!-- Talent, Equip & Soldier & Second_Awaken Info -->
                        <div id="talent-soldier-info"></div>
                        <!-- Job Info -->
                        <div id="job-info"></div>
                        <!-- Material Info -->
                        <div id="material-info"></div>
                        <!-- Class Up Info -->
                        <div id="class-up-info"></div>
                        <!-- SP Condition Info -->
                        <div id="sp-condition-info"></div>
                        <!-- Skill Info -->
                        <div id="skill-info"></div>
                        <!-- Bio Info -->
                        <div id="bio-info"></div>
                        <!-- Performance Info -->
                        <div id="performance-info"></div>
						<!-- Misc Info -->
                        <div id="misc-info"></div>
                    </div>
                </div>                
            </div>
        </div>
        <!-- Footer -->
        <div data-include-path="../includes/footer.html"></div>
        <!-- Scripts -->        
        <!--
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js" integrity="sha512-Cr/vBVYBUW9CxSdZ1p2iPKL/wlSVs7Bnu8baot+D9RJ+o+4SjD8h+keBv98ilU2O5/ZjolQGSV5ZjFfoqB27jg==" crossorigin="anonymous"></script>
    -->
        <script src="../assets/js/underscore-min.js" crossorigin="anonymous"></script>
        
        <script src="../assets/js/browser.min.js"></script>
        <script src="../assets/js/breakpoints.min.js"></script>        
        <script src="../assets/js/main_new.js"></script>
        <script src="../assets/js/star-rating.js" type="text/javascript"></script>
        <script src="../assets/js/hero-details.js"></script>

        <!-- Skin Carousel Template -->
        <script type="text/html" id="skin-slideshow-template">
            <div class="slideshow-container">
                <%_.each(Skins, function(skin) {%>
                <div class="mySlides fade">
                    <img src="../img/full/<%=skin.ImageUrl%>"  style="width:100%"/>
                    <div class="text"><%=skin.Desc%></div>
                </div>
                <%});%>
                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                <a class="next" onclick="plusSlides(1)">&#10095;</a>
            </div>
        </script>
        
        <!-- Basic Info Template -->
        <script type="text/html" id="basic-info-template">
			<%
				var name = Name;
				
				try {				
					if (ChName.length || JapName.length || EngName.length) {
						name += "<p class=\'other-names\'>("
						if (ChName.length) {
							name += "<span>" + ChName + "</span>";
						}
						if (JapName.length) {
							name += " / <span>" + JapName + "</span>";
						}
						if (EngName.length) {
							name += " / <span>" + EngName + "</span>";
						}
						name += ")</p>";
					}
				}
				catch(e) {}
			%>
            <div class="col-5 col-12-medium">
                <section>
                    <table border="0" cellpadding="0" cellspacing="1">
                        <colgroup>
                            <col width="25%">
                            <col width="25%">
                            <col width="25%">
                            <col width="*">
                        </colgroup>
                        <tr>
                        <tr>
                            <th>이름</th>
                            <td colspan="3"><%=name%></td>
                        </tr>
                        <tr>
                            <th>CV</th>
                            <td colspan="3"><%=CV%></td>
                        </tr>
                        <tr>
                            <th>희귀도</th>
                            <td colspan="3">
                                <%_.each(Rank, function(rank) {%>
                                <img src="../img/type/<%=rank%>.webp" width="125px" height="36px"/>
                                <%});%>
                                <%if (SP) {%>
                                <img src="../img/type/SP.webp" width="16%"/>
                                <%}%>
                            </td>
                        </tr>
                        <tr>
                            <th>세력</th>
                            <td colspan="3">
                                <%_.each(Groups, function(group) {%>
                                <img src="../img/group/<%=group%>.webp" width="32" height="32" />
                                <%});%>
                            </td>
                        </tr>
                        <tr>
                            <%if (SPHP > 0) {%>
                            <th>생명<br />(SP각성)</th>
                            <td>+<%=HP%>%<br />(+<%=SPHP%>%)</td>
                            <%} else {%>
                            <th>생명</th>
                            <td>+<%=HP%>%</td>
                            <%}%>
                            <%if (SPAttk > 0) {%>
                            <th>공격<br />(SP각성)</th>
                            <td>+<%=Attk%>%<br />(+<%=SPAttk%>%)</td>                                
                            <%} else {%>
                            <th>공격</th>
                            <td>+<%=Attk%>%</td>
                            <%}%>                            
                        </tr>
                        <tr>
                            <%if (SPDef > 0) {%>
                            <th>방어<br />(SP각성)</th>
                            <td>+<%=Def%>%<br />(+<%=SPDef%>%)</td>
                            <%} else {%>
                            <th>방어</th>
                            <td>+<%=Def%>%</td>    
                            <%}%>                            
                            <%if (SPMagicDef > 0) {%>
                            <th>마방<br />(SP각성)</th>
                            <td>+<%=MagicDef%>%<br />(+<%=SPMagicDef%>%)</td>
                            <%} else {%>
                            <th>마방</th>
                            <td>+<%=MagicDef%>%</td>
                            <%}%>                            
                        </tr>
                        <tr>
                            <th>획득법</th>
                            <td colspan="3" class="td_left"><%=HowToGet%></td>
                        </tr>
                        <%
                        var index = 1;
                        _.each(Fetters, function(fetter) {
                        %>
                        <tr>
                            <th><img src="../img/Icon/Spirit<%=index%>.webp" width="32" height="32" /></th>
                            <td colspan="3"><%=fetter.Condition%></td>
                        </tr>                
                        <%
                            index++;
                        });
                        %>
                        <tr>
                            <th><img src="../img/Icon/Icon_pink.webp" width="32" height="32" /></th>
                            <td colspan="3"><%=HeartFetter%></td>
                        </tr>
						<%if (Propose) {%>
                        <tr>                            
                            <th><img src="../img/Icon/ICON_Confession.webp" width="32" height="32" /></th>
							<td colspan="3">
								<a style="cursor:pointer;" onclick="propose('https://redpanda7301.github.io/langrisser/img/')">고백</a>
								<br/><label>(gif 데이터 주의 및 일부 영웅 비율 개선중)</label>
							</td>
                        </tr>
						<%}%>						
                    </table>
                </section>
            </div>
        </script>
        
        <!-- Talent & Soldier Info -->
        <script type="text/html" id="talent-soldier-info-template">
            <div class="col-7 col-12-medium">
                <section>
                    <table>
                        <tr><th colspan="2">고유기술 : <%=Talent[0].TalentName%></th></tr>
                        <tr><td><img src="../img/ability/<%=Talent[0].Icon%>" width="100px" height="90px" /></td><th><input id="input-4" name="input-4" value="6" class="rating-loading"></th>
                        <tr><td colspan="2"><span id="kv-caption"></span></td></tr>
                        <%if (SPTalent != null) {%>
                        <tr><th colspan="2">SP 고유기술 : <%=SPTalent[0].Name%></th></tr>
                        <tr><td><img src="../img/ability/<%=SPTalent[0].Icon%>" width="100px" height="90px" /></td><th><input id="input-5" name="input-5" value="6" class="rating-loading"></th>
                        <tr><td colspan="2"><span id="sp-caption"></span></td></tr>
                        <%}%>
                        <% if (Second_Awaken != null) {%>
                            <tr>
                                <th colspan="2"><%=Second_Awaken.Name%></th>
                            </tr>    
                            <tr>
                                <th><img src="../img/skills/Skill_CastMetal.webp" width="100px" /></th>
                                <td><%=Second_Awaken.Stats%></td>
                            </tr>
                        <%}%>
                        <% if (Equip != null) {%>
                        <tr>
                            <th colspan="2"><%=Equip.EqpName%></th>
                        </tr>
                        <tr>
                            <th>능력치</th>
                            <td><%=Equip.Stats%></td>
                        </tr>
                        <tr>
                            <th><img src="../img/equip/<%=Equip.Icon%>" width="100px" /></th>
                            <td>
                                <%=Equip.Ability%>
                            </td>
                        </tr>
                        <%}%>                        
                        <tr>
                            <th colspan="2">용병</th>
                        <tr>
                            <td colspan="2">
                                <%_.each(Soldiers, function(soldier) {%>
                                <span><img src="../img/troop/<%=soldier%>.webp" width="100px" height="124px"/></span>
                                <%});%>
                            </td>
                        </tr>
                    </table>
                </section>
            </div>
        </script>

        <!-- Job Info -->
        <script type="text/html" id="job-info-template">
            <%
              var colNum = 12 / Jobs.length;
              var index = 1;
              _.each(Jobs, function(job) {
            %>
            <div class="col-<%=colNum%> col-12-medium">
                <section>
                    <div class="view_title">클래스 최종 능력치(70레벨 호감도4,5 10레벨)</div>
                    <table border="0" cellpadding="0" cellspacing="1"<%if (colNum == 12) {%> style="width: 50%; margin: auto;"<%}%>>
                        <colgroup>
                            <col width="20%">
                            <col width="30%">
                            <col width="20%">
                            <col width="*">
                        </colgroup>
                        <tr>
                            <th rowspan="2">클래스</th>
                            <td colspan="3"><%=job.Name%><img src="../img/troop/Icon_<%=job.Icon%>.webp" width="35px" /></td>
                        <tr>
                            <td colspan="4">
                                <%_.each(job.SD, function(sd) {%>
                                <div class="class<%=index%>">
                                    <img src="../img/SD/<%=sd.ImageUrl%>" style=" height:131px">
                                </div>
                                <%});%>                               
                            </td>
                        </tr>
                        </tr>
                        <tr>
                            <th><img src="../img/Icon/Icon_Range.webp" width="30px" /></th>
                            <td><%=job.AttkRange%></td>
                            <th><img src="../img/Icon/Move_<%=job.MoveType%>.webp" width="30px" /></th>
                            <td><%=job.Move%></td>
                        </tr>
                        <tr>
                            <th>생명</th>
                            <td class="td_graph" colspan="3">
                                <span class="graph_bg"><em class="graph_line bg_hp" style="width: <%=job.HPRate%>%;"></em></span>
                                <strong class="graph_point col_olive"><%=job.HP%></strong>
                            </td>
                        </tr>
                        <tr>
                            <th>공격</th>
                            <td class="td_graph" colspan="3">
                                <span class="graph_bg"><em class="graph_line bg_atk" style="width: <%=job.AttkRate%>%;"></em></span>
                                <strong class="graph_point col_orange"><%=job.Attk%></strong>
                            </td>
                        </tr>
                        <tr>
                            <th>지력</th>
                            <td class="td_graph" colspan="3">
                                <span class="graph_bg"><em class="graph_line bg_matk" style="width: <%=job.IntRate%>%;"></em></span>
                                <strong class="graph_point col_blue"><%=job.Int%></strong>
                            </td>
                        </tr>
                        <tr>
                            <th>방어</th>
                            <td class="td_graph" colspan="3">
                                <span class="graph_bg"><em class="graph_line bg_def" style="width: <%=job.DefRate%>%;"></em></span>
                                <strong class="graph_point col_yellow"><%=job.Def%></strong>
                            </td>
                        </tr>
                        <tr>
                            <th>마방</th>
                            <td class="td_graph" colspan="3">
                                <span class="graph_bg"><em class="graph_line bg_mdef" style="width: <%=job.MagicDefRate%>%;"></em></span>
                                <strong class="graph_point col_purple"><%=job.MagicDef%></strong>
                            </td>
                        </tr>
                        <tr>
                            <th>기술</th>
                            <td class="td_graph" colspan="3">
                                <span class="graph_bg"><em class="graph_line bg_cri" style="width: <%=job.SkillRate%>%;"></em></span>
                                <strong class="graph_point col_purple"><%=job.Skill%></strong>
                            </td>
                        </tr>
                        <tr>
                            <th>마음의유대4</th>
                            <td class="td_left" colspan="3">
                                <%=job.HeartFetterBouns1%>
                            </td>
                        </tr>
                        <tr>
                            <th>마음의유대7</th>
                            <td class="td_left" colspan="3">
                                <%=job.HeartFetterBouns2%>
                            </td>
                        </tr>
                    </table>
                </section>
            </div>
            <% 
                index++;
              });
            %>
        </script>

        <!-- Material Info -->
        <script type="text/html" id="material-info-template">
            <div class="col-6 col-12-medium">
                <div class="view_title">재료정보</div>
                <section>
                    <table border="0" cellpadding="0" cellspacing="1">
                        <colgroup>
                            <col width="22%">
                            <col width="*">
                        </colgroup>
                        <tr>
                            <th>중앙2~10순서</th>
                            <td class="td_rank">
                                <%_.each(Materials.HeartFetter, function(material) {%>
                                <img src="../img/heart/<%=material%>.webp">
                                <%});%>
                            </td>
                        </tr>
                        <tr>
                            <th>유대</th>
                            <td class="td_rank">
                                <%_.each(Materials.Fetter, function(material) {%>
                                    <img src="../img/heart/<%=material%>.webp">
                                <%});%>                                
                            </td>
                        </tr>
                        <tr>
                            <th>각성</th>
                            <td class="td_rank">
                                <img src="../img/classup/star.webp">
                                <%_.each(Materials.Awaken, function(material) {%>
                                    <img src="../img/classup/<%=material%>.webp">
                                <%});%>
                                <img src="../img/classup/moon.webp">
                            </td>
                        </tr>
                    </table>
                </section>
            </div>
        </script>

        <!-- Class Up Info -->
        <!-- <script type="text/html" id="class-up-info-template">
            <%
              var counter = 0;
              var colNum = 6;
              _.each(ClassUp, function(classUp) {                
                if (ClassUp.length > 6 && counter >= 2) {
                    colNum = 4;
                }
            %>
            <%if (counter % 2 == 0) {%>     
            <div class="col-<%=colNum%> col-12-medium">
            <%}%>
                <section>
                    <table border="0" cellpadding="0" cellspacing="1">
                        <colgroup>
                            <col width="22%">
                            <col width="*">
                        </colgroup>
                        <div class="view_title"><%=classUp.ClassTitle%></div>
                        <%_.each(classUp.Tiers, function(tier) {%>
                        <tr>
                            <th><%=tier.Name%></th>
                            <td class="td_rank">
                                <%_.each(tier.Materials, function(material) {%>
                                <img src="../img/classup/<%=material%>.webp">
                                <%});%>                                
                            </td>
                        </tr>
                        <%});%>                        
                    </table>
                </section>
                <%
                    if (ClassUp.length == 5 && counter == 0) {
                        counter = 1;
                    }
                %>
            <%if (counter % 2 == 1 || counter == ClassUp.length) {%>   
            </div>
            <%}%>
            <%                
                counter++;
              });
            %>
        </script> -->

        <!-- SP Condition Info -->
        <script type="text/html" id="sp-condition-info-template">
            <%if (SPOpenConditions != null) {%>
            <div class="col-12">
                <section>
                    <div class="view_title">SP 각성 조건</div>
                    <table border="0" cellpadding="0" cellspacing="1">
                        <colgroup>
                            <col width="25%">
                            <col width="*">
                        </colgroup>
                        <%_.each(SPOpenConditions, function(condition) {%>                        
                        <tr>
                            <%if (condition.Name !== "") {%>
                                <th><%=condition.Name%></th>
                                <%if (condition.Materials.length > 0) {%>
                                <td>
                                    <%_.each(condition.Materials, function(material) {%>
                                    <img src="<%=material.MaterialImgUrl%>" style="width:10%">x <%=material.Amount%>
                                    <%});%>
                                </td>
                                <%}%>
                                <%if (condition.Desc !== "") {%>
                                    <td><%=condition.Desc%></td>
                                <%}%>
                            <%} else {%>                            
                                <th colspan="2"><%=condition.Desc%></th>                            
                            <%}%>                            
                        </tr>                        
                        <%});%>
                    </table>
                </section>
            </div>
            <%}%>
        </script>

        <!-- Skill Info -->
        <script type="text/html" id="skill-info-template">
            <div class="col-12">
                <section>
                    <div class="view_title">스킬 정보</div>
                    <%_.each(Skills, function(skill) {%>
                    <table border="0" cellpadding="0" cellspacing="1">
                        <colgroup>
                            <col width="22%">
                            <col width="28%">
                            <col width="22%">
                            <col width="*">
                        </colgroup>
                        <tr>
                            <td colspan="4"><b><font color="#0070c0"><%=skill.Name%><%if (skill.Cost != null) {%>(<%=skill.Cost%>)<%}%></font></b></td>
                        </tr>
                        <%
                           var counter = 0;
                           _.each(skill.Entries, function(entry) {                               
                        %>
                        <%if (counter % 2 == 0) {%>                     
                        <tr>
                        <%}%>
                        <%if (skill.Entries.length == 1) {%>
                            <th colspan="2"><%=entry.Label%></th>
                            <td colspan="2"><%=entry.Value%></td>
                        <%} else {%>
                            <th><%=entry.Label%></th>
                            <td><%=entry.Value%></td>
                        <%}%>                                                        
                        <%if (counter % 2 == 1 || counter == entry.length) {%>
                        </tr>
                        <%}%>
                        <%counter++;%>
                        <%});%>                        
                        <tr>
                            <th><img src="<%=skill.IconImageUrl%>" width="100" /></th>
                            <td colspan="3">                                
                                <%if (skill.SubSkills != null) {%>
                                <div style="padding: 10px 0;">
                                    <%=skill.Desc%>
                                </div>
                                <table style="border-top: 1px;">
                                <%_.each(skill.SubSkills, function(subSkill) {%>
                                <tr>
                                    <td colspan="4"><b><font color="#0070c0"><%=subSkill.Name%></font></b></td>
                                </tr>
                                <%
                                var subCounter = 0;
                                _.each(subSkill.Entries, function(entry) {
                                %>
                                <%if (subCounter % 2 == 0) {%>                     
                                <tr>
                                <%}%>
                                <%if (subSkill.Entries.length == 1) {%>
                                    <th colspan="2"><%=entry.Label%></th>
                                    <td colspan="2"><%=entry.Value%></td>
                                <%} else {%>
                                    <th><%=entry.Label%></th>
                                    <td><%=entry.Value%></td>
                                <%}%>                          
                                <%if (subCounter % 2 == 1 || subCounter == entry.length) {%>
                                </tr>
                                <%}%>
                                <%subCounter++;%>
                                <%});%>
                                <tr>
                                    <%if (subSkill.IconImageUrl != null) {%>
                                    <th><img src="<%=subSkill.IconImageUrl%>" width="100" /></th>                            
                                    <td colspan="3"><%=subSkill.Desc%></td>
                                    <%} else {%>
                                    <td colspan="4"><%=subSkill.Desc%></td>
                                    <%}%>
                                </tr>
                                <%});%>
                                </table>
                                <%} else {%>
                                <%=skill.Desc%>
                                <%}%>
                            </td>
                        </tr>
                        <!-- <%if (skill.SubSkills != null) {%>
                        <%_.each(skill.SubSkills, function(subSkill) {%>
                        <tr>
						    <td colspan="4"><b><font color="#0070c0"><%=subSkill.Name%></font></b></td>
					    </tr>
                        <%
                        var subCounter = 0;
                        _.each(subSkill.Entries, function(entry) {
                        %>
                        <%if (subCounter % 2 == 0) {%>                     
                        <tr>
                        <%}%>
                        <%if (subSkill.Entries.length == 1) {%>
                            <th colspan="2"><%=entry.Label%></th>
                            <td colspan="2"><%=entry.Value%></td>
                        <%} else {%>
                            <th><%=entry.Label%></th>
                            <td><%=entry.Value%></td>
                        <%}%>                          
                        <%if (subCounter % 2 == 1 || subCounter == entry.length) {%>
                        </tr>
                        <%}%>
                        <%subCounter++;%>
                        <%});%>
					    <tr>
                            <%if (subSkill.IconImageUrl != null) {%>
						    <th><img src="<%=subSkill.IconImageUrl%>" width="100" /></th>                            
						    <td colspan="3"><%=subSkill.Desc%></td>
                            <%} else {%>
                            <td colspan="4"><%=subSkill.Desc%></td>
                            <%}%>
					    </tr>
                        <%});%>
                        <%}%> -->
                        <%if (skill.Animation != null) {%>
                        <tr>
                            <td colspan="4">
                                <!--<img id="Super" onclick="changeSuper()" src="<%=skill.Animation%>"  width="70%" />-->
                                <img id="Super" src="<%=skill.Animation%>"  width="70%" />
                            </td>
                        </tr>
                        <%}%>
                    </table>
                    <%});%>
                </section>
            </div>
        </script>
        <!-- Bio Info -->        
        <script type="text/html" id="bio-info-template">
            <%if (Bio != null) {%>
            <div class="col-12">
                <section>
                    <div class="view_title">생애</div>
                    <table border="0" cellpadding="0" cellspacing="1">
                        <colgroup>
                            <col width="25%">
                            <col width="*">
                        </colgroup>
                        <%_.each(Bio, function(bio) {%>
                        <tr>
                            <th><%=bio.Entry%></th>
                            <td>
                                <%=bio.Desc%>
                            </td>
                        </tr>
                        <%});%>
                    </table>
                </section>
            </div>
            <%}%>
        </script>

        <!-- Performance Info -->
        <script type="text/html" id="performance-info-template">
            <%if (Performance != null) {%>
            <div class="col-12">
                <section>
                    <div class="view_title">대사</div>
                    <table border="0" cellpadding="0" cellspacing="1">
                        <colgroup>
                            <col width="25%">
                            <col width="*">
                        </colgroup>
                        <%_.each(Performance, function(performance) {%>
                        <tr>
                            <th><%=performance.Entry%></th>
                            <td>
                                <%=performance.Desc%>
                            </td>
                        </tr>
                        <%});%>
                    </table>
                </section>
            </div>
            <%}%>
            <%if (Performance2 != null) {%>
                <div class="col-12">
                    <section>
                        <div class="view_title">특수스킨 - 대사</div>
                        <table border="0" cellpadding="0" cellspacing="1">
                            <colgroup>
                                <col width="25%">
                                <col width="*">
                            </colgroup>
                            <%_.each(Performance2, function(Performance2) {%>
                            <tr>
                                <th><%=Performance2.Entry%></th>
                                <td>
                                    <%=Performance2.Desc%>
                                </td>
                            </tr>
                            <%});%>
                        </table>
                    </section>
                </div>
                <%}%>
        </script>
		
		<!-- Misc Info -->
        <script type="text/html" id="misc-info-template">
			<%
				var misc = "";
				
				try {
					misc = Misc;
				}
				catch(e) { }
			%>
            <%if (misc.length) {%>
            <div class="col-12">
                <section>
                    <div id="misc-label" class="view_title">
						<div style="float: left;">기타</div>
						<div id="misc-control" style="float: right; font-size: 14px; font-weight: bold;"></div>
					</div>
                    <table id="misc-content" border="0" cellpadding="0" cellspacing="1">
						<tr>
                            <td>
                                <%=Misc%>
                            </td>
                        </tr>
                    </table>
                </section>
            </div>
            <%}%>
        </script>
    </body>
</html>